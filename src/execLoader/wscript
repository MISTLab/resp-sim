#!/usr/bin/env python
# -*- coding: iso-8859-1 -*-

import os, sys

def build(bld):
    obj = bld.new_task_gen('cxx', 'cshlib')
    obj.source = """
        execLoader.cpp
    """
    obj.target = 'execLoader'
    obj.name = 'execLoader'
    obj.uselib_local = 'binutils'
    obj.uselib = 'BOOST'

    obj = bld.new_task_gen('pypp')
    obj.source = """
        execLoader.hpp
    """
    obj.target = 'execLoader_wrapper'
    obj.name = 'execLoader_wrapper'
    obj.uselib = 'BOOST PYEXT BOOST_PYTHON'
    obj.uselib_local = 'execLoader'
    obj.start_decls = 'resp'
    obj.custom_code = """
execLoader = mb.class_('ExecLoader')
execLoader.variable('execImage').exclude()
execLoader.variable('programData').exclude()
execLoader.variable('progDim').exclude()
"""
